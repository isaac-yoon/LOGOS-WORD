{"version":3,"sources":["webpack://test/./public/javascripts/canvas.js","webpack://test/./public/javascripts/game.js","webpack://test/./public/javascripts/index.js","webpack://test/./public/javascripts/modal.js","webpack://test/./public/javascripts/verses.js","webpack://test/webpack/bootstrap","webpack://test/webpack/runtime/define property getters","webpack://test/webpack/runtime/hasOwnProperty shorthand","webpack://test/webpack/runtime/make namespace object","webpack://test/webpack/startup"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;AClCA,CAA8B;;AAE9B;AACA;AACA,kBAAkB,4CAAM;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC,sBAAsB;AAC9D,sCAAsC,oBAAoB;AAC1D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB,4CAAM;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,IAAI,E;;;;;;;;;;;;;;;;;AC7JnB,CAA0B;AAGR;AAGD;;AAEjB;AACA;AACA;AACA,IAAI,oDAAW;;AAEf;AACA;;AAEA;AACA,qBAAqB,0CAAI;;AAEzB;AACA,IAAI,yDAAiB;;AAErB;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;;;;;;;;ACjCM;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL,C;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,MAAM,E;;;;;;UCbrB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"bundle.js","sourcesContent":["let calculatePixelRatio = function() {\n  let ctx = document.getElementById('word-canvas').getContext('2d');\n  let dpr = window.devicePixelRatio || 1;\n  let bsr = ctx.webkitBackingStorePixelRatio || \n            ctx.mozBackingStorePixelRatio ||\n            ctx.msBackingStorePixelRatio ||\n            ctx.oBackingStorePixelRatio ||\n            ctx.backingStorePixelRatio ||\n            1;\n  \n  return dpr / bsr;\n};\n\nlet modifyPPICanvasResolution = function(w, h, ratio) {\n  if (!ratio) { ratio = PIXEL_RATIO; }\n  let canvas = document.getElementById('word-canvas');\n  canvas.width = w * ratio;\n  canvas.height = h * ratio;\n  canvas.style.width = w + 'px';\n  canvas.style.height = h + 'px';\n  canvas.getContext('2d').setTransform(ratio, 0, 0, ratio, 0, 0);\n};\n\nlet setupCanvas = function(canvas) {\n  let dpr = window.devicePixelRatio || 1;\n  let rect = canvas.getBoundingClientRect();\n\n  canvas.width = rect.width * dpr;\n  canvas.height = rect.height * dpr;\n  let ctx = canvas.getContext('2d');\n\n  ctx.scale(dpr, dpr);\n\n  return ctx;\n};\n\nexport { \n  setupCanvas\n};","import verses from './verses';\n\nclass Game {\n  constructor(ctx, canvas, input, pageLayout) {\n    this.verses = verses;\n    this.pageLayout = pageLayout;\n    this.ctx = ctx;\n    this.level = 1;\n    this.guessedCorrectly = false;\n    this.guessed = false;\n    this.input = input;\n    this.canvas = canvas;\n    this.currentVerse = '';\n    this.hiddenWord = '';\n    this.incorrectGuesses = 0;\n    this.correctGuesses = 0;\n    this.hintsUsed = 0;\n    \n    // bindings\n    this.wrapText = this.wrapText.bind(this);\n    this.displayVerse = this.displayVerse.bind(this);\n    this.clearCanvas = this.clearCanvas.bind(this);\n    this.hideVerse = this.hideVerse.bind(this);\n    this.checkInputWithHiddenWord = this.checkInputWithHiddenWord.bind(this);\n    this.winCheck = this.winCheck.bind(this);\n    this.render = this.render.bind(this);\n    this.removeStartEventListeners = this.removeStartEventListeners.bind(this);\n    this.start = this.start.bind(this);\n    this.restart = this.restart.bind(this);\n    this.clearInputField = this.clearInputField.bind(this);\n  }\n\n  wrapText(ctx, text, x, y, maxWidth, lineHeight) {\n    let words = text.split(' ');\n    let line = '';\n\n    for (let i = 0; i < words.length; i++) {\n      let testLine = line + words[i] + ' ';\n      let metrics = ctx.measureText(testLine);\n      let testWidth = metrics.width;\n\n      if (testWidth > maxWidth && i > 0) {\n        ctx.strokeText(line, x, y);\n        line = words[i] + ' ';\n        y += lineHeight;\n      } else {\n        line = testLine;\n      }\n    }\n\n    ctx.strokeText(line, x, y);\n  }\n\n  displayVerse(verse) {\n    this.ctx.font = '12px serif';\n    let maxWidth = 250;\n    let lineHeight = 25;\n    let x = 10;\n    let y = 25;\n    this.wrapText(this.ctx, verse, x, y, maxWidth, lineHeight);\n  }\n\n  clearCanvas() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  hideVerse() {\n    let splitVerse = this.currentVerse.split(' ');\n    let i = Math.floor(Math.random() * splitVerse.length);\n    let wordToHide = splitVerse[i];\n\n    splitVerse[i] = new Array(wordToHide.length + 1).join('_ ');\n    this.currentVerse = splitVerse.join(' ');\n\n    this.hiddenWord = wordToHide;\n  }\n\n  checkInputWithHiddenWord(e) {\n    if (e.keyCode === 32 || e.keyCode === 13) {\n      this.guessed = true;\n      let userGuess = this.input.value.toLowerCase();\n      if (userGuess === this.hiddenWord.toLowerCase()) {\n        this.guessedCorrectly = true;\n        this.clearInputField();\n      } else {\n        this.clearInputField();\n      }\n    }\n\n    this.render();\n  }\n\n  clearInputField() {\n    document.getElementById('word-input').value = '';\n  }\n\n  winCheck() {\n    return (this.level == Object.keys(this.verses).length) && this.guessedCorrectly;\n  }\n\n  render() {\n    this.clearCanvas();\n\n    if (this.winCheck()) {\n      this.ctx.strokeText('You won!', 125, 25);\n\n      // display score\n      this.ctx.strokeText(`Incorrect: ${this.incorrectGuesses}`, 125, 50);\n      this.ctx.strokeText(`Correct: ${this.correctGuesses}`, 125, 75);\n    } else {\n      if (this.guessedCorrectly) {\n      this.level += 1;\n      this.correctGuesses += 1;\n      this.currentVerse = this.verses[this.level];\n      this.guessedCorrectly = false;\n      this.guessed = false;\n      this.hideVerse();\n      } else if (this.guessed) {\n        this.incorrectGuesses += 1;\n        this.guessed = false;\n      }\n      this.displayVerse(this.currentVerse);\n    }\n\n  }\n\n  removeStartEventListeners() {\n    this.canvas.removeEventListener('click', this.start);\n    this.pageLayout.removeEventListener('keypress', this.start);\n  }\n\n  useHint() {\n    // idea:\n    // construct the hidden word letter by letter and display on input field\n    this.hintsUsed += 1;\n    console.log('hint used');\n  }\n\n  start() {\n    this.removeStartEventListeners();\n    this.input.addEventListener('keypress', this.checkInputWithHiddenWord);\n    \n    this.currentVerse = verses[this.level];\n    this.hideVerse();\n    this.render();\n  }\n\n  restart() {\n    this.level = 1;\n    this.guessedCorrectly = false;\n    this.guessed = false;\n    this.incorrectGuesses = 0;\n    this.correctGuesses = 0;\n    this.start();\n  }\n}\n\nexport default Game;","import Game from './game';\nimport {\n    setupCanvas\n} from './canvas';\nimport {\n    addModalListeners\n} from './modal';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    let canvas = document.getElementById('word-canvas');\n    let ctx = canvas.getContext('2d');\n    setupCanvas(canvas);\n    \n    let pageLayout = document.getElementById('page-layout');\n    const input = document.getElementById('word-input');\n    \n    // create a new game\n    const game = new Game(ctx, canvas, input, pageLayout);\n    \n    // modals\n    addModalListeners();\n\n    // buttons\n    const restartButton = document.getElementById('restart-button');\n    restartButton.addEventListener('click', game.restart);\n    const hintButton = document.getElementById('hint-button');\n    hintButton.addEventListener('click', game.useHint);\n\n\n\n    // allow user to click or press any key to start game\n    canvas.addEventListener('click', game.start);\n    pageLayout.addEventListener('keypress', game.start);\n});","export const addModalListeners = () => {\n  const startModal = document.getElementById('start-modal');\n\n  const closeStartModalButton = document.getElementById('start-game-modal-close');\n  closeStartModalButton.addEventListener('click', () => {\n    startModal.classList.add('inactive');\n    });\n}","const verses = {\n  1 : 'In the beginning God created the heavens and the earth.',\n  2 : 'In the beginning was the Word, and the Word was with God, and the Word was God.',\n  3 : 'So God created mankind in his own image, in the image of God he created them; male and female he created them.',\n  4 : 'He has shown you, O mortal, what is good. And what does the LORD require of you? To act justly and to love mercy and to walk humbly with your God.',\n  5 : 'The fear of the LORD is the beginning of knowledge, but fools despise wisdom and instruction.',\n  6 : 'The heart is deceitful above all things and beyond cure. Who can understand it?',\n  7 : 'But seek first his kingdom and his righteousness, and all these things will be given to you as well.',\n  8 : \"Now faith is confidence in what we hope for and assurance about what we do not see. By faith we understand that the universe was formed at God's command, so that what is seen was not made out of what was visible.\",\n  9 : 'Then you will know the truth, and the truth will set you free.',\n  10 : 'these are the things God has revealed to us by his Spirit. The Spirit searches all things, even the deep things of God.',\n}\n\nexport default verses;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./public/javascripts/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}